{{ define "pre-main" }}
{{ partial "landingpage/banner.html" . }}
{{ end }}

{{ define "main" }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  rel="stylesheet" />

{{ partial "landingpage/about.html" .}}

{{ partial "overview_block.html" .}}

<style>
.algolia-search {
  .header {
    display: flex;
    align-items: center;
    min-height: 50px;
    padding: 0.5rem 1rem;
    background-image: linear-gradient(284deg, #fedd4e, #fcb43a);
    color: #fff;
    margin-bottom: 1rem;
  }

  .header a {
    color: #fff;
    text-decoration: none;
  }

  .header-title {
    font-size: 1.2rem;
    font-weight: normal;
  }

  .header-title::after {
    content: ' â–¸ ';
    padding: 0 0.5rem;
  }

  .header-subtitle {
    font-size: 1.2rem;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem;
  }

  .search-panel {
    display: flex;
  }

  .search-panel__filters {
    flex: 1;
  }

  .search-panel__results {
    flex: 3;
  }

  .ais-Highlight-highlighted {
    color: inherit;
    font-size: inherit;
  }

  #searchbox {
    margin-bottom: 2rem;
  }

  #pagination {
    margin: 2rem auto;
    text-align: center;
  }

  .ais-Hits-item article {
    display: flex;
  }

  .ais-Hits-item img {
    max-height: 125px;
    padding-right: 16px;
  }
}
</style>
<!-- Search -->
<div class="container algolia-search">
  <div class="search-panel">
    <div class="search-panel__filters">
    </div>

    <div class="search-panel__results">
      <div id="searchbox"></div>
      <div id="hits"></div>
      <div id="pagination"></div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.10.5/dist/algoliasearch-lite.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.79.0"></script>
<script>
  const { algoliasearch, instantsearch } = window;

  const searchClient = algoliasearch(
    'R5LXP5NUID',
    '4b504b6988d05a7631d6a330fb7afa58'
  );

  const search = instantsearch({
    indexName: 'website_pages',
    searchClient,
    future: { preserveSharedStateOnUnmount: true },
  });

  search.addWidgets([
    instantsearch.widgets.searchBox({
      container: '#searchbox',
    }),
    instantsearch.widgets.hits({
      container: '#hits',
      templates: {
        item: (hit, { html, components }) => html`
          <article>
            <img src=${hit.image} alt=${hit.title} />
            <div>
              <h1>${components.Highlight({ hit, attribute: 'title' })}</h1>
              <p>${components.Highlight({ hit, attribute: 'subtitle' })}</p>
            </div>
          </article>
        `,
      },
    }),
    instantsearch.widgets.configure({
      hitsPerPage: 8,
    }),
    instantsearch.widgets.pagination({
      container: '#pagination',
    }),
  ]);

  search.start();
</script>
<!-- /Search -->

{{ partial "landingpage/activityfeed.html" . }}

<!-- Areas of expertise -->
{{ with .Params.Areas_of_AI_expertise }}
{{ if .enable }}
<section class="section color-blue">
  <div class="container bg-white">

    <!-- Title -->
    <div class="row">
      <div class="col-12">
        <h3 class="section-title color-blue">{{ .title | markdownify }}</h3>
      </div>
    </div>
    <!-- /Title -->

    <!-- areas of AI expertise -->

    <!-- desktop version -->
    <div class="row justify-content-center desktop mx-3">
      {{$width_m := 4}}
      {{$width_s := 2}}
      {{if .width_m}}
      {{$width_m = .width_m}}
      {{end}}
      {{if .width_s}}
      {{$width_s = .width_s}}
      {{end}}
      {{ range $index, $item := .feature_item }}
      <div class="col-md-{{$width_m}} col-sm-{{$width_s}} mb-4 {{if eq $index 0}}{{else}}border-left-blue{{end}}">
        <div class="feature-card-transparant">
          <i class="{{$item.icon}} mb-3" style="font-size:22px;">
            <h4 class="color-blue d-inline-block" style="padding-left:10px; font-weight:100;">
              {{ $item.name | markdownify }}
            </h4>
          </i>
          <p class="color-blue">{{ $item.content | markdownify }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    <!-- /desktop version -->

    <!-- mobile version -->
    <div class="row justify-content-center mobile">
      {{ range .feature_item }}
      <div class="col-12 m-4 border-top-blue">
        <div class="feature-card-transparant">
          <i class="{{.icon}} mb-3" style="font-size:22px;">
            <h4 class="color-blue d-inline-block" style="padding-left:10px; font-weight:100;">
              {{ .name | markdownify }}
            </h4>
          </i>
          <p class="color-blue">{{ .content | markdownify }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    <!-- /mobile version -->

    <!-- /areas of AI expertise -->

    <!-- Button -->
    <div class="row text-center">
      <div class="col-12" style="margin-top:25px;">
        <a class="btn-link" href="{{.button_link | relURL}}">
          <h3 class="btn color-white">{{.button_text}}</h3>
        </a>
      </div>
    </div>
    <!-- /Button -->
  </div>
</section>
{{end}}
{{end}}
<!-- /Areas of expertise -->

<!-- Distinctive in -->
{{ with .Params.Distinctive_in }}
{{ if .enable }}
<section class="section color-blue">
  <div class="container bg-lightblue py-5">

    <!-- Title -->
    <div class="row">
      <div class="col-12">
        <h3 class="section-title color-blue ml-4">{{ .title | markdownify }}</h3>
      </div>
    </div>
    <!-- /Title -->


    <!-- desktop version -->
    <div class="row justify-content-center desktop mx-3">
      {{$width_m := 4}}
      {{$width_s := 2}}
      {{if .width_m}}
      {{$width_m = .width_m}}
      {{end}}
      {{if .width_s}}
      {{$width_s = .width_s}}
      {{end}}
      {{ range $index, $item := .feature_item }}
      <div class="col-md-{{$width_m}} col-sm-{{$width_s}} mb-4 {{if eq $index 0}}{{else}}border-left-blue{{end}}">
        <div class="feature-card-transparant">
          <i class="{{$item.icon}} mb-3" style="font-size:22px;">
            <h4 class="color-blue d-inline-block" style="padding-left:10px; font-weight:100;">
              {{ $item.name | markdownify }}
            </h4>
          </i>
          <p class="color-blue">{{ $item.content | markdownify }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    <!-- /desktop version -->

    <!-- mobile version -->
    <div class="row justify-content-center mobile">
      {{ range .feature_item }}
      <div class="col-12 m-4 border-top-blue">
        <div class="feature-card-transparant">
          <i class="{{.icon}} mb-3" style="font-size:22px;">
            <h4 class="color-blue d-inline-block" style="padding-left:10px; font-weight:100;">
              {{ .name | markdownify }}
            </h4>
          </i>
          <p class="color-blue">{{ .content | markdownify }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    <!-- /mobile version -->


    <!-- Button -->
    <div class="row text-center">
      <div class="col-12" style="margin-top:25px;">
        <a class="btn-link" href="{{.button_link | relURL}}">
          <h3 class="btn color-white">{{.button_text}}</h3>
        </a>
      </div>
    </div>
    <!-- /Button -->
  </div>
</section>
{{end}}
{{end}}
<!-- /Distinctive in -->



{{ partial "landingpage/supportedby.html" . }}

<!-- Video -->
{{ with .Params.Title_video }}
<section class="section-none bg-white" id="movie-div">
  <div class="container">

    <!-- Title -->
    <div class="row">
      <div class="col-12">
        <h3 class="section-title" style="color: #005aa7;">{{ .title | markdownify }}</h3>
      </div>
    </div>
    <!-- /Title -->

    <div class="row" style="margin-bottom:75px; display: flex; justify-content: center; align-items: center;">
      <video width="100%" height="auto" autoplay muted controls>
        {{ if .video_mp4 }}
        <source src="{{.video_mp4}}" type="video/mp4">
        {{ end }}
        {{ if .video_ogg }}
        <source src="{{.video_ogg}}" type="video/ogg">
        {{ end }}
        Your browser does not support the video tag.
      </video>
    </div>

  </div>
</section>
{{ end }}
<!-- /Video -->

{{ end }}